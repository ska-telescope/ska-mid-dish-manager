name: "spf-device-{{.Release.Name}}"
function: test-device
domain: testing
command: "/usr/local/bin/SPFDevice"
server:
  name: "SPFDevice"
  instances:
  {{- range  .Values.global.dishes }}
    - name: "{{ . }}"
      classes:
        - name: "SPFDevice"
          devices:
            - name: "ska{{ printf "%01s" . }}/spf/simulator"
              properties:
                - name: "logging_target"
                  values:
                    - "console"
                - name: "logging_level"
                  values:
                    - "DEBUG"
  {{- end }}
depends_on:
  - device: sys/database/2
image:
  registry: "{{.Values.dishsimulators.image.registry}}"
  image: "{{.Values.dishsimulators.image.image}}"
  tag: "{{.Values.dishsimulators.image.tag}}"
  pullPolicy: "{{.Values.dishsimulators.image.pullPolicy}}"
