enabled: true

system: SW-infrastructure
subsystem: ska-dish-lmc
telescope: SKA-mid

labels:
  app: ska-mid-dish-manager

global:
  minikube: false
  tango_host: databaseds-tango-base-test:10000
  retry:
  - "--tries=10"

  ## Order of instances resolution ##
  # .Values.global.dishes
  # .Values.deviceServers.<device>.instances
  # File, data/<device>.yaml, instances

  # List the dishes, if set, then this list will be applied to instances of:
  # deviceServers.dishmaster
  dish_devices: ["dish-manager"]
  dishes: ["01"]


dsconfig:
  image:
    registry: artefact.skao.int
    image: ska-tango-images-tango-dsconfig
    tag: 1.5.1
    pullPolicy: IfNotPresent

dishmanager:
  image:
    registry: artefact.skao.int
    image: ska-mid-dish-manager
    tag: 1.1.0
    pullPolicy: IfNotPresent

resources:
  limits:
    cpu: 300m
    memory: 500Mi
  requests:
    cpu: 100m
    memory: 128Mi

deviceServers:
  dishmanager:
    file: "data/dish_manager.yaml"
  dsdevice:
    file: "data/ds_device.yaml"
  spfdevice:
    file: "data/spf_device.yaml"
  spfrxdevice:
    file: "data/spfrx_device.yaml"

ska-taranta:
  enabled: true
  ingress:
    enabled: true
    nginx: true
    hostname: k8s.stfc.skao.int
  tangogql:
    replicas: 1
    resources:
      requests:
        cpu: 600m # 600m = 0.6 CPU
        memory: 512Mi # 512Mi = 0.5 GB mem
      limits:
        cpu: 1000m # 1000m = 1 CPU
        memory: 1024Mi # 1024Mi = 1 GB mem

ska-taranta-dashboard:
  ingress:
    enabled: true
    nginx: true
    hostname: test-taranta.k8s.stfc.skao.int

ska-taranta-auth:
  ingress:
    enabled: true
    nginx: true
    hostname: test-taranta.k8s.stfc.skao.int

# Below is a workaround for those on arm architectures
ska-tango-taranta-dashboard:
  mongodb:
    image:
      tag: latest
  dashboard:
    resources:
      limits:
        memory: 1Gi