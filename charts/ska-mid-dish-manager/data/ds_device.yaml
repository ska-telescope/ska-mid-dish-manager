name: "ds-device-{{.Release.Name}}"
function: test-device
domain: testing
command: "/usr/local/bin/DSDevice "
instances: ["01"]
server:
  name: "DSDevice"
  instances:
  {{- range  .Values.coalesced_dishes }}
    - name: "{{ . }}"
      classes:
        - name: "DSDevice"
          devices:
            - name: "mid_d{{ printf "%04s" . }}/lmc/ds_simulator"
  {{- end }}
depends_on:
  - device: sys/database/2
image:
  registry: "{{.Values.dsdevice.image.registry}}"
  image: "{{.Values.dsdevice.image.image}}"
  tag: "{{.Values.dsdevice.image.tag}}"
  pullPolicy: "{{.Values.dsdevice.image.pullPolicy}}"

